{"version":3,"file":"main-DsSFPwo_.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\n    // 1. Инициализация Lenis (Smooth Scroll)\n    const lenis = new Lenis({\n        duration: 1.2,\n        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n        direction: 'vertical',\n        smooth: true,\n    });\n\n    function raf(time) {\n        lenis.raf(time);\n        requestAnimationFrame(raf);\n    }\n    requestAnimationFrame(raf);\n\n    // GSAP Setup\n    gsap.registerPlugin(ScrollTrigger);\n\n    // 2. Мобильное меню\n    const burger = document.querySelector('.header__burger');\n    const nav = document.querySelector('.header__nav');\n    const links = document.querySelectorAll('.header__link');\n\n    const toggleMenu = () => {\n        nav.classList.toggle('is-open');\n        burger.classList.toggle('is-active');\n    };\n\n    burger.addEventListener('click', toggleMenu);\n    links.forEach(link => link.addEventListener('click', () => {\n        if(nav.classList.contains('is-open')) toggleMenu();\n    }));\n\n    // 3. Анимации (GSAP)\n    \n    // HERO: Split Type Animation\n    if (document.querySelector('#hero-text')) {\n        try {\n            const typeSplit = new SplitType('#hero-text', { types: 'lines, words, chars' });\n            \n            const tl = gsap.timeline();\n            \n            tl.from(typeSplit.chars, {\n                y: 100,\n                opacity: 0,\n                rotation: 10,\n                duration: 0.8,\n                stagger: 0.02,\n                ease: \"back.out(1.7)\"\n            })\n            .from('.hero__desc', { opacity: 0, y: 20, duration: 0.6 }, \"-=0.4\")\n            .from('.hero__actions', { opacity: 0, y: 20, duration: 0.6 }, \"-=0.4\")\n            .from('.hero__visual', { opacity: 0, scale: 0.8, duration: 0.8 }, \"-=0.6\");\n        } catch (e) {\n            console.warn(\"SplitType not loaded or error:\", e);\n        }\n    }\n\n    // GENERAL: Fade Up Sections\n    const sections = document.querySelectorAll('section');\n    sections.forEach(section => {\n        gsap.fromTo(section.children, \n            { y: 50, opacity: 0 },\n            {\n                y: 0,\n                opacity: 1,\n                duration: 0.8,\n                stagger: 0.1,\n                scrollTrigger: {\n                    trigger: section,\n                    start: \"top 80%\",\n                }\n            }\n        );\n    });\n\n    // 4. FAQ Accordion (НОВОЕ)\n    const faqItems = document.querySelectorAll('.faq__item');\n    \n    faqItems.forEach(item => {\n        const question = item.querySelector('.faq__question');\n        question.addEventListener('click', () => {\n            // Если нужно, чтобы открывался только один за раз, раскомментируй строки ниже:\n            // faqItems.forEach(i => {\n            //    if (i !== item) i.classList.remove('is-active');\n            // });\n\n            item.classList.toggle('is-active');\n        });\n    });\n\n    // 5. Форма контактов (Валидация + AJAX)\n    const form = document.getElementById('contactForm');\n    \n    // Проверка, есть ли форма на странице (чтобы не было ошибок на Legal Pages)\n    if (form) {\n        const phoneInput = document.getElementById('phone');\n        const statusDiv = document.getElementById('formStatus');\n        const policyCheckbox = document.getElementById('policy');\n        const policyLabel = document.querySelector('label[for=\"policy\"]');\n\n        // Разрешаем вводить только цифры в телефон\n        phoneInput.addEventListener('input', (e) => {\n            e.target.value = e.target.value.replace(/\\D/g, '');\n        });\n\n        // Убираем ошибку чекбокса при клике\n        policyCheckbox.addEventListener('change', () => {\n            if (policyCheckbox.checked) {\n                policyLabel.parentElement.style.color = ''; \n            }\n        });\n\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n            let isValid = true;\n            \n            // Очистка классов ошибок\n            document.querySelectorAll('.form-group').forEach(g => g.classList.remove('error'));\n            policyLabel.parentElement.style.color = '';\n\n            // Валидация\n            const name = document.getElementById('name');\n            const email = document.getElementById('email');\n            const captcha = document.getElementById('captcha');\n\n            if (name.value.trim().length < 2) {\n                name.parentElement.classList.add('error');\n                isValid = false;\n            }\n            \n            if (!email.value.includes('@') || !email.value.includes('.')) {\n                email.parentElement.classList.add('error');\n                isValid = false;\n            }\n\n            if (phoneInput.value.length < 10) {\n                phoneInput.parentElement.classList.add('error');\n                isValid = false;\n            }\n\n            if (captcha.value.trim() !== '8') {\n                captcha.parentElement.classList.add('error');\n                alert('Неверный ответ в примере');\n                isValid = false;\n            }\n\n            if (!policyCheckbox.checked) {\n                isValid = false;\n                policyLabel.parentElement.style.color = '#ef4444'; \n            }\n\n            // Отправка\n            if (isValid) {\n                const btn = form.querySelector('button');\n                const originalText = btn.innerHTML;\n                \n                btn.innerHTML = '<span>Отправка...</span><i data-lucide=\"loader-2\" class=\"spin\"></i>';\n                btn.disabled = true;\n                lucide.createIcons();\n\n                setTimeout(() => {\n                    form.reset();\n                    btn.innerHTML = '<span>Отправлено!</span><i data-lucide=\"check\"></i>';\n                    lucide.createIcons();\n                    \n                    statusDiv.innerHTML = '<span style=\"color: #4ade80\">Заявка принята. Мы свяжемся с вами.</span>';\n                    \n                    setTimeout(() => {\n                        btn.innerHTML = originalText;\n                        btn.disabled = false;\n                        statusDiv.innerHTML = '';\n                        lucide.createIcons();\n                    }, 3000);\n                }, 1500);\n            }\n        });\n    }\n\n    // 6. Cookie Popup\n    const cookiePopup = document.getElementById('cookiePopup');\n    const acceptBtn = document.getElementById('acceptCookie');\n\n    if (cookiePopup && !localStorage.getItem('cookiesAccepted')) {\n        setTimeout(() => {\n            cookiePopup.classList.add('is-visible');\n        }, 2000);\n    }\n\n    if (acceptBtn) {\n        acceptBtn.addEventListener('click', () => {\n            localStorage.setItem('cookiesAccepted', 'true');\n            cookiePopup.classList.remove('is-visible');\n        });\n    }\n\n    // 7. Инициализация иконок\n    lucide.createIcons();\n});"],"names":["lenis","t","raf","time","burger","nav","links","toggleMenu","link","typeSplit","section","item","form","phoneInput","statusDiv","policyCheckbox","policyLabel","e","isValid","g","name","email","captcha","btn","originalText","cookiePopup","acceptBtn"],"mappings":"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"}